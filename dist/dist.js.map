{"version":3,"sources":["webpack:///webpack/bootstrap 7ca5d8dd3bbe47a28c81","webpack:///./src/entries/dist.js","webpack:///./src/scripts/open-ended-question.js","webpack:///./src/scripts/xapiGenerator.js"],"names":[],"mappings":"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","file":"../dist/dist.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7ca5d8dd3bbe47a28c81\n **/","// Load library\nH5P.OpenEndedQuestion = require('../scripts/open-ended-question').default;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entries/dist.js\n **/","import xApiGenerator from './xapiGenerator';\r\n\r\nexport default class OpenEndedQuestion extends H5P.EventDispatcher {\r\n\r\n  /**\r\n   * Constructor for Open Ended Question\r\n   * @param {Object} params\r\n   * @param {string} params.question Question text or description\r\n   * @param {string} params.placeholderText Placeholder text for input area\r\n   * @param {number} params.inputRows Number of rows inside input area\r\n   * @param {number} contentId\r\n   */\r\n  constructor(params, contentId = null) {\r\n    super();\r\n\r\n    // De-structure params into default values\r\n    const {\r\n      question = 'Do you like cake?',\r\n      placeholderText = '',\r\n      inputRows = 1\r\n    } = params;\r\n\r\n    this.xApiGenerator = new xApiGenerator(question);\r\n\r\n    /**\r\n     * Create open ended question element\r\n     * @param {string} questionString The open ended question text\r\n     * @return {Element} The question element\r\n     */\r\n    this.createQuestion = function (questionString) {\r\n      const question = document.createElement('div');\r\n      question.textContent = questionString;\r\n      return question;\r\n    };\r\n\r\n    /**\r\n     * Create input are for question\r\n     *\r\n     * @param {number} lines Lines of input\r\n     * @param {string} [placeholderString] Optional placeholder\r\n     * @return {Element} The input element\r\n     */\r\n    this.createInput = function (lines, placeholderString) {\r\n      const input = document.createElement('textarea');\r\n      input.placeholder = placeholderString || '';\r\n      input.rows = lines;\r\n      input.style.resize = 'none';\r\n\r\n      return input;\r\n    };\r\n\r\n    /**\r\n     * Attach library to wrapper\r\n     * @param {jQuery} $wrapper\r\n     */\r\n    this.attach = function ($wrapper) {\r\n      const questionWrapper = document.createElement('div');\r\n      questionWrapper.className = 'h5p-open-ended-question';\r\n\r\n      const questionElement = this.createQuestion(question);\r\n      const inputElement = this.createInput(inputRows, placeholderText);\r\n      inputElement.className = 'h5p-open-ended-question-input';\r\n      inputElement.addEventListener('input', () => {\r\n        let xApiTemplate = this.createXAPIEventTemplate('interacted');\r\n        const xApiEvent = this.xapiGenerator.generateXApi(xApiTemplate, inputElement.value);\r\n        this.trigger('xAPIchanged', xApiEvent);\r\n      });\r\n\r\n      questionWrapper.appendChild(questionElement);\r\n      questionWrapper.appendChild(inputElement);\r\n\r\n      $wrapper.get(0).appendChild(questionWrapper);\r\n    }\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/open-ended-question.js\n **/","/**\n * Generate xAPI statements\n */\nexport default class xApiGenerator {\n  constructor(question) {\n\n    // Set up default response object\n    this.event = {\n      description: {\n        'en-US': question // We don't actually know the language of the question\n      },\n      type: 'http://adlnet.gov/expapi/activities/cmi.interaction',\n      interactionType: 'fill-in',\n    };\n  }\n\n  /**\n   * Extend xAPI template\n   * @param {Event} xApiTemplate xAPI event template\n   * @param {string} answer Answer to open ended question\n   * @return {Event} Extended xAPI event\n   */\n  generateXApi(xApiTemplate, answer) {\n    const statement = xApiTemplate.data.statement;\n    Object.assign(statement, {\n      result: {\n        response: answer\n      }\n    });\n\n    if (statement.object) {\n      const definition = statement.object.definition;\n      Object.assign(definition, this.event);\n    }\n\n    return xApiTemplate;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/xapiGenerator.js\n **/"],"sourceRoot":""}